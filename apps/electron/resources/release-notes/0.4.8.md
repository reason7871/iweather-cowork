# v0.4.8 — LLM 工具和插件修复

---

## 新功能

- **`call_llm` 工具** — 调用二级 LLM 执行专注的子任务，如摘要、分类和结构化提取。支持所有三个后端：Claude、Codex 和 Copilot。同时支持 API 密钥（完整功能）和 OAuth（基本功能）。支持并行调用、文件附件和结构化 JSON 输出

## Bug 修复

- **插件名称解析** — 当工作区目录名称与 SDK 插件名称不匹配时，技能解析失败。现在从 `.claude-plugin/plugin.json` 读取实际插件名称
- **技能热重载** — 添加工作区技能会导致全局和项目技能消失直到重启。所有重载路径现在使用 `loadAllSkills` 返回完整的三层列表
- **Codex 事件队列竞态条件** — 当异步 `item/completed` 处理程序仍在 `turn/completed` 运行时，工具结果和助手文本可能丢失。通过延迟队列完成直到所有处理程序完成来修复

## 内部改进

- Copilot `runMiniCompletion` 现在可用 — 支持 Copilot 后端上的标题生成
- Copilot 事件适配器抑制推理/意图事件
- `call_llm` 模型徽章显示在 TurnCard 活动行中
